\hypertarget{class_resources_loader}{}\section{Resources\+Loader类 参考}
\label{class_resources_loader}\index{Resources\+Loader@{Resources\+Loader}}


资源加载器。仅在Resources.\+cpp中使用。在堆上一块稳定内存托管所有材质及设置资源。  




{\ttfamily \#include $<$Resources\+Loader.\+h$>$}

\subsection*{Public 成员函数}
\begin{DoxyCompactItemize}
\item 
\hyperlink{class_resources_loader_a571b6232d8f1dc1cf94ec752c984a834}{Resources\+Loader} ()
\begin{DoxyCompactList}\small\item\em 默认构造函数，用来在程序开始时加载所有材质设置到Texture\+Info。 \end{DoxyCompactList}\item 
\hyperlink{class_resources_loader_ab4f7fa273471e91107896131bce915da}{$\sim$\+Resources\+Loader} ()
\begin{DoxyCompactList}\small\item\em 析构函数，清除堆上所有材质及设置。 \end{DoxyCompactList}\item 
\hyperlink{struct_texture}{Texture} \hyperlink{class_resources_loader_a38cbe5a4029c4a6fe999a8405703fc30}{load\+Texture} (const wchar\+\_\+t $\ast$image\+Path, int w\+\_\+raw, int h\+\_\+raw, int w\+\_\+to=0, int h\+\_\+to=0)
\begin{DoxyCompactList}\small\item\em 通过元信息加载材质。 \end{DoxyCompactList}\item 
\hyperlink{struct_texture}{Texture} \hyperlink{class_resources_loader_a29b4b9fedb76dc01abcfacc2b31cf25c}{load\+Texture} (\hyperlink{struct_settings_1_1_texture_info}{Settings\+::\+Texture\+Info} setting)
\begin{DoxyCompactList}\small\item\em 通过Texture\+Info加载材质。 \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_resources_loader_a80e1d1bb8339e48b0becf401f205436e}\label{class_resources_loader_a80e1d1bb8339e48b0becf401f205436e}} 
void \hyperlink{class_resources_loader_a80e1d1bb8339e48b0becf401f205436e}{load\+Texture\+Settings} ()
\begin{DoxyCompactList}\small\item\em 加载所有材质设置。在程序开始时通过constructor调用。 \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_resources_loader_aae8a0b49efa4191ba01cc832c32dbd95}\label{class_resources_loader_aae8a0b49efa4191ba01cc832c32dbd95}} 
void \hyperlink{class_resources_loader_aae8a0b49efa4191ba01cc832c32dbd95}{load\+General\+Settings} ()
\begin{DoxyCompactList}\small\item\em 加载全局设置。通过\+Lazy Load机制延时调用。 \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_resources_loader_a5099528fcfd109b389965e5ebfbdb661}\label{class_resources_loader_a5099528fcfd109b389965e5ebfbdb661}} 
void \hyperlink{class_resources_loader_a5099528fcfd109b389965e5ebfbdb661}{load\+Bg\+Textures} ()
\begin{DoxyCompactList}\small\item\em 加载所有背景材质。通过\+Lazy Load机制延时调用。 \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_resources_loader_afd356d180bfc92e6135996b3d290d3ae}\label{class_resources_loader_afd356d180bfc92e6135996b3d290d3ae}} 
void \hyperlink{class_resources_loader_afd356d180bfc92e6135996b3d290d3ae}{load\+Anime\+Textures} ()
\begin{DoxyCompactList}\small\item\em 加载所有动画材质。通过\+Lazy Load机制延时调用。 \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_resources_loader_a56b70b8ad03c9fde2736d425adfd97e7}\label{class_resources_loader_a56b70b8ad03c9fde2736d425adfd97e7}} 
void \hyperlink{class_resources_loader_a56b70b8ad03c9fde2736d425adfd97e7}{load\+Plane\+Settings} ()
\begin{DoxyCompactList}\small\item\em 加载所有飞机设置。通过\+Lazy Load机制延时调用。 \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_resources_loader_afe684ff2f1419210e4bbd608c67ffeb3}\label{class_resources_loader_afe684ff2f1419210e4bbd608c67ffeb3}} 
const std\+::map$<$ int, \hyperlink{struct_texture}{Texture} $>$ \& \hyperlink{class_resources_loader_afe684ff2f1419210e4bbd608c67ffeb3}{load\+All\+Textures} ()
\begin{DoxyCompactList}\small\item\em 一次性加载所有材质。现为\+Depreciated。 \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Public 属性}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{class_resources_loader_a355d825da8f96dc10cd17fc659e599ae}\label{class_resources_loader_a355d825da8f96dc10cd17fc659e599ae}} 
\begin{tabbing}
xx\=xx\=xx\=xx\=xx\=xx\=xx\=xx\=xx\=\kill
struct \{\\
\>std::unique\_ptr$<$ \hyperlink{struct_settings_1_1_general}{Settings::General} $>$ \hyperlink{class_resources_loader_a65888b4ea57a744c09dc0c9e22f9f186}{pGeneral}\\
\>\>{\em 默认全局设置。 }\\
\>std::unique\_ptr$<$ \hyperlink{struct_settings_1_1_bg_textures}{Settings::BgTextures} $>$ \hyperlink{class_resources_loader_aada194614a803df2a3680e5c5992a18a}{pBgTextures}\\
\>\>{\em 所有背景材质。 }\\
\>std::unique\_ptr$<$ \hyperlink{struct_settings_1_1_anime_textures}{Settings::AnimeTextures} $>$ \hyperlink{class_resources_loader_a72df15c8b925035fda4edfeb52830d82}{pAnimeTextures}\\
\>\>{\em 所有动画材质。 }\\
\>std::unique\_ptr$<$ \hyperlink{struct_settings_1_1_plane}{Settings::Plane} $>$ \hyperlink{class_resources_loader_ae874a55d363c3cb651f36e47570d30a9}{pPlayer}\\
\>\>{\em 默认玩家飞机设置。 }\\
\>std::unique\_ptr$<$ \hyperlink{struct_settings_1_1_plane}{Settings::Plane} $>$ \hyperlink{class_resources_loader_a150dacb6180f32ab8fafadcefdc65f96}{pEnemyJunior}\\
\>\>{\em 默认新兵敌机设置。 }\\
\>std::unique\_ptr$<$ \hyperlink{struct_settings_1_1_plane}{Settings::Plane} $>$ \hyperlink{class_resources_loader_a99ac5605a8b7fedb9c79b3f6b6d310cb}{pEnemyAutoTarget}\\
\>\>{\em 默认自机狙敌机设置。 }\\
\>std::map$<$ int, \hyperlink{struct_settings_1_1_texture_info}{Settings::TextureInfo} $>$ \hyperlink{class_resources_loader_ae364e855ac860a1404ddf324b0ef0300}{mTextureInfos}\\
\>\>{\em 保存所有材质索引设置。 }\\
\} \hyperlink{class_resources_loader_a355d825da8f96dc10cd17fc659e599ae}{settings}\\

\end{tabbing}\begin{DoxyCompactList}\small\item\em 保存所有默认设置。所有外部类通过此处保存的设置的引用来获取默认设置。 \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_resources_loader_a5b18435b040ae9562a84570712be922c}\label{class_resources_loader_a5b18435b040ae9562a84570712be922c}} 
std\+::map$<$ int, \hyperlink{struct_texture}{Texture} $>$ \hyperlink{class_resources_loader_a5b18435b040ae9562a84570712be922c}{textures}
\begin{DoxyCompactList}\small\item\em 保存所有已完整加载的材质。通过材质的\+I\+D进行检索。 \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{详细描述}
资源加载器。仅在Resources.\+cpp中使用。在堆上一块稳定内存托管所有材质及设置资源。 



\subsection{构造及析构函数说明}
\mbox{\Hypertarget{class_resources_loader_a571b6232d8f1dc1cf94ec752c984a834}\label{class_resources_loader_a571b6232d8f1dc1cf94ec752c984a834}} 
\index{Resources\+Loader@{Resources\+Loader}!Resources\+Loader@{Resources\+Loader}}
\index{Resources\+Loader@{Resources\+Loader}!Resources\+Loader@{Resources\+Loader}}
\subsubsection{\texorpdfstring{Resources\+Loader()}{ResourcesLoader()}}
{\footnotesize\ttfamily Resources\+Loader\+::\+Resources\+Loader (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



默认构造函数，用来在程序开始时加载所有材质设置到Texture\+Info。 

\mbox{\Hypertarget{class_resources_loader_ab4f7fa273471e91107896131bce915da}\label{class_resources_loader_ab4f7fa273471e91107896131bce915da}} 
\index{Resources\+Loader@{Resources\+Loader}!````~Resources\+Loader@{$\sim$\+Resources\+Loader}}
\index{````~Resources\+Loader@{$\sim$\+Resources\+Loader}!Resources\+Loader@{Resources\+Loader}}
\subsubsection{\texorpdfstring{$\sim$\+Resources\+Loader()}{~ResourcesLoader()}}
{\footnotesize\ttfamily Resources\+Loader\+::$\sim$\+Resources\+Loader (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



析构函数，清除堆上所有材质及设置。 



\subsection{成员函数说明}
\mbox{\Hypertarget{class_resources_loader_a38cbe5a4029c4a6fe999a8405703fc30}\label{class_resources_loader_a38cbe5a4029c4a6fe999a8405703fc30}} 
\index{Resources\+Loader@{Resources\+Loader}!load\+Texture@{load\+Texture}}
\index{load\+Texture@{load\+Texture}!Resources\+Loader@{Resources\+Loader}}
\subsubsection{\texorpdfstring{load\+Texture()}{loadTexture()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \hyperlink{struct_texture}{Texture} Resources\+Loader\+::load\+Texture (\begin{DoxyParamCaption}\item[{const wchar\+\_\+t $\ast$}]{image\+Path,  }\item[{int}]{w\+\_\+raw,  }\item[{int}]{h\+\_\+raw,  }\item[{int}]{w\+\_\+to = {\ttfamily 0},  }\item[{int}]{h\+\_\+to = {\ttfamily 0} }\end{DoxyParamCaption})}



通过元信息加载材质。 

当w\+\_\+to或h\+\_\+to中有任意一项为0时，表示不缩放。 


\begin{DoxyParams}{参数}
{\em image\+Path} & 材质的路径，采用\+Unicode。 \\
\hline
{\em w\+\_\+raw} & 材质的原分辨率宽度。 \\
\hline
{\em h\+\_\+raw} & 材质的原分辨率高度。 \\
\hline
{\em w\+\_\+to} & (可选) 期望缩放到的分辨率宽度。 \\
\hline
{\em h\+\_\+to} & (可选) 期望缩放到的分辨率高度。 \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{返回}
加载成功后，返回加载而得的材质。 
\end{DoxyReturn}
\mbox{\Hypertarget{class_resources_loader_a29b4b9fedb76dc01abcfacc2b31cf25c}\label{class_resources_loader_a29b4b9fedb76dc01abcfacc2b31cf25c}} 
\index{Resources\+Loader@{Resources\+Loader}!load\+Texture@{load\+Texture}}
\index{load\+Texture@{load\+Texture}!Resources\+Loader@{Resources\+Loader}}
\subsubsection{\texorpdfstring{load\+Texture()}{loadTexture()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \hyperlink{struct_texture}{Texture} Resources\+Loader\+::load\+Texture (\begin{DoxyParamCaption}\item[{\hyperlink{struct_settings_1_1_texture_info}{Settings\+::\+Texture\+Info}}]{setting }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



通过Texture\+Info加载材质。 

封装了一个接收材质设置的更良好的接口。在类体中定义是默认inline的。

T\+O\+DO\+: 用参数转发(forwarding)实现这个重载。 


\begin{DoxyParams}{参数}
{\em setting} & 材质的设置源。 \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{返回}
加载成功后，返回加载而得的材质。 
\end{DoxyReturn}


该类的文档由以下文件生成\+:\begin{DoxyCompactItemize}
\item 
D\+:/叶志浩文件夹/\+Vigilans的文档/\+Programming/\+Visual Studio/\+Projects/\+Grade 1 Summer Vacation/\+Lost Phoenix/\+Lost Phoenix/src/\hyperlink{_resources_loader_8h}{Resources\+Loader.\+h}\item 
D\+:/叶志浩文件夹/\+Vigilans的文档/\+Programming/\+Visual Studio/\+Projects/\+Grade 1 Summer Vacation/\+Lost Phoenix/\+Lost Phoenix/src/Resources\+Loader.\+cpp\end{DoxyCompactItemize}
